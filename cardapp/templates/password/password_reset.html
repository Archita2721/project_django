{% load static %}
<!-- <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=K2D:wght@300&family=Poppins:wght@300&display=swap" rel="stylesheet">
    <title>Quickshare | Forgot Password</title>
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
</head>
<body>

     
    <div class="parent">
        <div class="rectangle">
           <div class="ellipse1">
                <img src="{% static 'images/Ellipse1.svg' %}" >
                </div>
           
                 <div class="ellipse2">
                <img src="{% static 'images/Ellipse2.svg' %}" >
                </div> 
              <div class="loginContainer">
                <div class="photo">
                    <img src="{% static 'images/Group 24.svg' %}" >
                </div>
                   <div class="login" style="padding: 37px 40px;">
                        <p >Forgot Your Password</p>
                        <img src="{% static 'images/Rectangle 12 .svg' %}" class="line">
                        <form method="POST">
                            {% csrf_token %}
                            <div class="input-container">
                               <input type="email"  id="email" name="email" placeholder="Registered Email Address">
                               <img src="{% static 'images/Group 29.svg' %}" style=" position: absolute;
                               right: 42px;
                               top: 132px;
                               z-index: 1;">
                            </div>
                           
                            <button class="btn-submit" type="submit">Send email</button>
                            <p style="font-size: 11px; color: gray;">Check your link.Your link has been sent to inbox.</p>
                            <p style="font-size: 11px; color:orange"> <u>Resend mail</u> </p>
                        </form>
                    </div>

               </div>
               <div class="text-container">
                <h2 >Don’t Have An Account?</h2>
                <p >If you dont have an account,then register with us.</p>
                <a href="/register"><input type="submit" value="Register your Account" ></a>
               </div>
               
        </div>
    </div>
    
</body>
</html> -->
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=K2D:wght@400;500;600;700;800&family=Poppins:wght@300;400;600&display=swap"
        rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <title>Quickshare | Forgot Password</title>
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
</head>

<body>
    <section>
        <label class="notify">{% include 'messages.html' %}</label>
        <div class="container parent">
            <div class="formdiv">
                <div class="transparent-bg">
                    <div class="row">
                        <div class="col-12 col-md-1 logo-container">
                            <img src="{% static 'images/logo.svg' %}" alt="logo" class="logo d-none d-md-block">
                            <img src="{% static 'images/logo_1.svg' %}" alt="logo" class="logo d-block d-md-none">
                        </div>
                        <div class="col-12 col-md-6 position-relative ">
                            <div class="pass">

                                <h2 class="login-h2">Forgot Your Password?</h2>
                                <img src="{% static 'images/line.svg' %}" class="rect-line" alt="rect-line">
                                <form method="GET" id="reset-password">

                                    <div class="position-relative">
                                        <input type="email" id="email" name="email"
                                            placeholder="Registered Email Address" maxlength="32" class="textbox">
                                        <img src="{% static 'images/email.svg' %}" alt="username"
                                            class="img-div position-absolute">
                                    </div>
                                    <button type="submit" class="btn-submit" id="send-btn">
                                        <span class="spinner-border spinner-border-sm d-none" role="status"
                                            aria-hidden="true"></span>
                                        Send Mail</button>
                                    <p class="sub-p">Check your Mail, The Reset Password link has been sent to your
                                        Registered Mail.If you didn’t get an email?</p>
                                    <div class="d-flex justify-content-between for-rem">

                                        <div class="style-label">
                                            <label for="login"> <a href="/login" class="decor"> <img
                                                        src="{% static 'images/back.svg' %}" alt="back to login"> Back
                                                    to Login</a></label>
                                        </div>
                                        <div class="ml-auto ">
                                            <label for="resend_mail" style="cursor: pointer;"> <button id="resend-btn"
                                                   type="button" class="resend"> Resend
                                                    Mail </button></label>
                                        </div>
                                    </div>

                                </form>
                            </div>
                        </div>
                        <div class="col-12 col-md-5 ele">
                            <h2>Don't Have An Account?</h2>
                            <p>If you don't have an account, then register with us.</p>
                            <a href="/register"><input type="submit" value="Register your Account"></a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
</body>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
    crossorigin="anonymous"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>

<script>
    const resetLink = document.querySelector('#reset-link');
    const resendLink = document.querySelector('#resend-link');
    let timer = null;
    let remainingTime = 0;

    function startTimer() {
        resetLink.disabled = true;
        remainingTime = 60;
        timer = setInterval(updateTimer, 1000);
    }

    function updateTimer() {
        remainingTime--;
        if (remainingTime <= 0) {
            clearInterval(timer);
            resetLink.disabled = false;
            resetLink.innerText = 'Send Mail';
        } else {
            resetLink.innerText = `Send Mail (${remainingTime}s)`;
        }
    }

    resetLink.addEventListener('click', function (event) {
        event.preventDefault();
        startTimer();
        updateTimer();
    });

    resendLink.addEventListener('click', function (event) {
        event.preventDefault();
        startTimer();
        updateTimer();
    });
</script>
<script>
    $(document).ready(function () {
        $('#send-btn').click(function () {
            $('.spinner-border').removeClass('d-none');
            $('.btn-submit').attr('disabled', true);
            $('#reset-password').submit();
        });

        $('#resend-btn').click(function () {
            $('#reset-password').submit();
        });
    });
</script>

</html>